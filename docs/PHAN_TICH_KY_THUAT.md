# ğŸ“Š HÆ°á»›ng Dáº«n PhÃ¢n TÃ­ch Ká»¹ Thuáº­t Thá»‹ TrÆ°á»ng Chá»©ng KhoÃ¡n

## ğŸ“ Má»¥c lá»¥c
1. [Giá»›i thiá»‡u](#giá»›i-thiá»‡u)
2. [NguyÃªn lÃ½ cÆ¡ báº£n](#nguyÃªn-lÃ½-cÆ¡-báº£n)
3. [PhÃ¢n tÃ­ch biá»ƒu Ä‘á»“](#phÃ¢n-tÃ­ch-biá»ƒu-Ä‘á»“)
4. [Chá»‰ bÃ¡o ká»¹ thuáº­t](#chá»‰-bÃ¡o-ká»¹-thuáº­t)
5. [MÃ´ hÃ¬nh giÃ¡](#mÃ´-hÃ¬nh-giÃ¡)
6. [PhÃ¢n tÃ­ch khá»‘i lÆ°á»£ng](#phÃ¢n-tÃ­ch-khá»‘i-lÆ°á»£ng)
7. [Chiáº¿n lÆ°á»£c giao dá»‹ch](#chiáº¿n-lÆ°á»£c-giao-dá»‹ch)
8. [Quáº£n lÃ½ rá»§i ro](#quáº£n-lÃ½-rá»§i-ro)
9. [TÃ¢m lÃ½ thá»‹ trÆ°á»ng](#tÃ¢m-lÃ½-thá»‹-trÆ°á»ng)
10. [Thá»±c hÃ nh vá»›i vnstock](#thá»±c-hÃ nh-vá»›i-vnstock)

---

## ğŸ¯ Giá»›i thiá»‡u

PhÃ¢n tÃ­ch ká»¹ thuáº­t lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ vÃ  dá»± Ä‘oÃ¡n xu hÆ°á»›ng giÃ¡ cá»• phiáº¿u dá»±a trÃªn:
- **Dá»¯ liá»‡u giÃ¡** (Open, High, Low, Close)
- **Khá»‘i lÆ°á»£ng giao dá»‹ch**
- **Chá»‰ bÃ¡o ká»¹ thuáº­t**
- **MÃ´ hÃ¬nh biá»ƒu Ä‘á»“**

### ğŸ”‘ Táº¡i sao phÃ¢n tÃ­ch ká»¹ thuáº­t quan trá»ng?
- âœ… XÃ¡c Ä‘á»‹nh xu hÆ°á»›ng thá»‹ trÆ°á»ng
- âœ… TÃ¬m Ä‘iá»ƒm vÃ o/ra tá»‘i Æ°u
- âœ… Quáº£n lÃ½ rá»§i ro hiá»‡u quáº£
- âœ… ÄÆ°a ra quyáº¿t Ä‘á»‹nh Ä‘áº§u tÆ° khÃ¡ch quan

---

## ğŸ“ˆ NguyÃªn lÃ½ cÆ¡ báº£n

### 1. Ba giáº£ Ä‘á»‹nh ná»n táº£ng
1. **Thá»‹ trÆ°á»ng chiáº¿t kháº¥u má»i thá»©**: GiÃ¡ cáº£ pháº£n Ã¡nh táº¥t cáº£ thÃ´ng tin
2. **GiÃ¡ di chuyá»ƒn theo xu hÆ°á»›ng**: Xu hÆ°á»›ng cÃ³ tÃ­nh bá»n vá»¯ng
3. **Lá»‹ch sá»­ láº·p láº¡i**: MÃ´ hÃ¬nh giÃ¡ cÃ³ xu hÆ°á»›ng láº·p láº¡i

### 2. CÃ¡c loáº¡i xu hÆ°á»›ng
- **ğŸ“ˆ Xu hÆ°á»›ng tÄƒng (Uptrend)**: Äá»‰nh cao hÆ¡n, Ä‘Ã¡y cao hÆ¡n
- **ğŸ“‰ Xu hÆ°á»›ng giáº£m (Downtrend)**: Äá»‰nh tháº¥p hÆ¡n, Ä‘Ã¡y tháº¥p hÆ¡n  
- **â†”ï¸ Xu hÆ°á»›ng ngang (Sideways)**: Dao Ä‘á»™ng trong biÃªn Ä‘á»™

### 3. Khung thá»i gian
- **DÃ i háº¡n**: 1+ nÄƒm (Xu hÆ°á»›ng chÃ­nh)
- **Trung háº¡n**: 1-12 thÃ¡ng (Xu hÆ°á»›ng phá»¥)
- **Ngáº¯n háº¡n**: 1-30 ngÃ y (Xu hÆ°á»›ng nhá»)
- **Intraday**: Trong ngÃ y

---

## ğŸ“Š PhÃ¢n tÃ­ch biá»ƒu Ä‘á»“

### 1. CÃ¡c loáº¡i biá»ƒu Ä‘á»“

#### ğŸ“ˆ Biá»ƒu Ä‘á»“ Ä‘Æ°á»ng (Line Chart)
```
GiÃ¡ Ä‘Ã³ng cá»­a ---|---|---|---
               /   \     /
              /     \   /
             /       \ /
```
- **Æ¯u Ä‘iá»ƒm**: ÄÆ¡n giáº£n, tháº¥y rÃµ xu hÆ°á»›ng
- **NhÆ°á»£c Ä‘iá»ƒm**: Thiáº¿u thÃ´ng tin chi tiáº¿t

#### ğŸ“Š Biá»ƒu Ä‘á»“ náº¿n (Candlestick)
```
    |  <- High
  â”Œâ”€â”
  â”‚ â”‚  <- Body (Open-Close)
  â””â”€â”˜
    |  <- Low
```
- **Náº¿n xanh**: Close > Open (tÄƒng)
- **Náº¿n Ä‘á»**: Close < Open (giáº£m)
- **Body**: Pháº§n thÃ¢n (Open-Close)
- **Shadow/Wick**: Pháº§n Ä‘uÃ´i (High-Low)

#### ğŸ“Š Biá»ƒu Ä‘á»“ cá»™t (Bar Chart)
```
    | <- High
    â”œ <- Close
    |
    â”œ <- Open  
    | <- Low
```

### 2. Äá»c hiá»ƒu biá»ƒu Ä‘á»“ náº¿n

#### Náº¿n tÄƒng máº¡nh
- Body dÃ i, shadow ngáº¯n
- Ãp lá»±c mua máº¡nh

#### Náº¿n giáº£m máº¡nh  
- Body dÃ i Ä‘á», shadow ngáº¯n
- Ãp lá»±c bÃ¡n máº¡nh

#### Náº¿n doji
- Body ráº¥t ngáº¯n
- Open â‰ˆ Close
- Thá»‹ trÆ°á»ng do dá»±

#### Hammer
- Body nhá» á»Ÿ Ä‘á»‰nh
- Shadow dÆ°á»›i dÃ i
- TÃ­n hiá»‡u Ä‘áº£o chiá»u tÄƒng

#### Shooting Star
- Body nhá» á»Ÿ Ä‘Ã¡y
- Shadow trÃªn dÃ i  
- TÃ­n hiá»‡u Ä‘áº£o chiá»u giáº£m

---

## ğŸ”§ Chá»‰ bÃ¡o ká»¹ thuáº­t

### 1. Chá»‰ bÃ¡o xu hÆ°á»›ng

#### ğŸ“ˆ Moving Average (MA)
```python
# Simple Moving Average
SMA = (P1 + P2 + ... + Pn) / n

# Exponential Moving Average  
EMA = (Price Ã— K) + (Previous EMA Ã— (1-K))
# K = 2/(n+1)
```

**CÃ¡ch sá»­ dá»¥ng:**
- GiÃ¡ > MA: Xu hÆ°á»›ng tÄƒng
- GiÃ¡ < MA: Xu hÆ°á»›ng giáº£m
- MA ngáº¯n cáº¯t lÃªn MA dÃ i: TÃ­n hiá»‡u mua
- MA ngáº¯n cáº¯t xuá»‘ng MA dÃ i: TÃ­n hiá»‡u bÃ¡n

#### ğŸ“Š MACD (Moving Average Convergence Divergence)
```python
MACD Line = EMA(12) - EMA(26)
Signal Line = EMA(9) cá»§a MACD Line
Histogram = MACD Line - Signal Line
```

**TÃ­n hiá»‡u:**
- MACD cáº¯t lÃªn Signal: Mua
- MACD cáº¯t xuá»‘ng Signal: BÃ¡n
- Histogram > 0: Momentum tÄƒng
- Histogram < 0: Momentum giáº£m

### 2. Chá»‰ bÃ¡o momentum

#### ğŸ“ˆ RSI (Relative Strength Index)
```python
RS = Average Gain / Average Loss
RSI = 100 - (100 / (1 + RS))
```

**Giáº£i thÃ­ch:**
- RSI > 70: VÃ¹ng quÃ¡ mua (overbought)
- RSI < 30: VÃ¹ng quÃ¡ bÃ¡n (oversold)
- RSI = 50: Trung tÃ­nh

#### âš¡ Stochastic
```python
%K = ((Close - Low14) / (High14 - Low14)) Ã— 100
%D = SMA(%K, 3)
```

**TÃ­n hiá»‡u:**
- %K > 80: QuÃ¡ mua
- %K < 20: QuÃ¡ bÃ¡n
- %K cáº¯t lÃªn %D: Mua
- %K cáº¯t xuá»‘ng %D: BÃ¡n

### 3. Chá»‰ bÃ¡o volatility

#### ğŸ“Š Bollinger Bands
```python
Middle Line = SMA(20)
Upper Band = SMA(20) + (2 Ã— Standard Deviation)
Lower Band = SMA(20) - (2 Ã— Standard Deviation)
```

**CÃ¡ch sá»­ dá»¥ng:**
- GiÃ¡ cháº¡m Upper Band: CÃ³ thá»ƒ bÃ¡n
- GiÃ¡ cháº¡m Lower Band: CÃ³ thá»ƒ mua
- Bands thu háº¹p: Volatility tháº¥p, chuáº©n bá»‹ breakout
- Bands má»Ÿ rá»™ng: Volatility cao

### 4. Chá»‰ bÃ¡o khá»‘i lÆ°á»£ng

#### ğŸ“Š Volume
- Khá»‘i lÆ°á»£ng tÄƒng + giÃ¡ tÄƒng: Xu hÆ°á»›ng máº¡nh
- Khá»‘i lÆ°á»£ng giáº£m + giÃ¡ tÄƒng: Xu hÆ°á»›ng yáº¿u
- Khá»‘i lÆ°á»£ng Ä‘á»™t biáº¿n: CÃ³ thá»ƒ Ä‘áº£o chiá»u

#### ğŸ“ˆ OBV (On Balance Volume)
```python
If Close > Previous Close: OBV = Previous OBV + Volume
If Close < Previous Close: OBV = Previous OBV - Volume
If Close = Previous Close: OBV = Previous OBV
```

---

## ğŸ¨ MÃ´ hÃ¬nh giÃ¡

### 1. MÃ´ hÃ¬nh Ä‘áº£o chiá»u

#### ğŸ”„ Head and Shoulders
```
      Äáº§u
     /  \
Vai /    \ Vai
   /      \
```
- **TÃ­n hiá»‡u**: Äáº£o chiá»u giáº£m
- **Entry**: VÆ°á»£t neckline
- **Target**: Khoáº£ng cÃ¡ch tá»« Ä‘áº§u Ä‘áº¿n neckline

#### ğŸ”„ Double Top/Bottom
```
Double Top:  /\    /\
            /  \  /  \
           /    \/    \

Double Bottom: \    /\    /
                \  /  \  /
                 \/    \/
```

### 2. MÃ´ hÃ¬nh tiáº¿p tá»¥c

#### ğŸ”º Triangle
- **Ascending Triangle**: Resistance náº±m ngang, support tÄƒng dáº§n
- **Descending Triangle**: Support náº±m ngang, resistance giáº£m dáº§n
- **Symmetrical Triangle**: Thu háº¹p Ä‘á»u cáº£ hai phÃ­a

#### ğŸ“Š Flag & Pennant
- Sau má»™t Ä‘á»£t tÄƒng/giáº£m máº¡nh
- Consolidation ngáº¯n
- Breakout theo hÆ°á»›ng cÅ©

### 3. Support & Resistance

#### ğŸ›¡ï¸ Support (Há»— trá»£)
- Má»©c giÃ¡ mÃ  táº¡i Ä‘Ã³ Ã¡p lá»±c mua máº¡nh
- Previous lows, MA, psychological levels
- Khi vá»¡ support â†’ trá»Ÿ thÃ nh resistance

#### ğŸš§ Resistance (KhÃ¡ng cá»±)  
- Má»©c giÃ¡ mÃ  táº¡i Ä‘Ã³ Ã¡p lá»±c bÃ¡n máº¡nh
- Previous highs, MA, psychological levels
- Khi vÆ°á»£t resistance â†’ trá»Ÿ thÃ nh support

---

## ğŸ“Š PhÃ¢n tÃ­ch khá»‘i lÆ°á»£ng

### 1. NguyÃªn táº¯c cÆ¡ báº£n
- **Volume xÃ¡c nháº­n xu hÆ°á»›ng**
- **Volume Ä‘i trÆ°á»›c giÃ¡**
- **Divergence bÃ¡o hiá»‡u Ä‘áº£o chiá»u**

### 2. Patterns khá»‘i lÆ°á»£ng

#### ğŸ“ˆ Volume trong uptrend
- Volume tÄƒng khi giÃ¡ tÄƒng: Healthy uptrend
- Volume giáº£m khi giÃ¡ tÄƒng: Weak uptrend
- Volume tÄƒng khi giÃ¡ giáº£m: Cáº£nh bÃ¡o

#### ğŸ“‰ Volume trong downtrend
- Volume tÄƒng khi giÃ¡ giáº£m: Strong downtrend
- Volume giáº£m khi giÃ¡ giáº£m: Weak downtrend
- Volume tÄƒng khi giÃ¡ tÄƒng: CÃ³ thá»ƒ Ä‘áº£o chiá»u

### 3. Volume táº¡i breakout
- **High volume breakout**: ÄÃ¡ng tin cáº­y
- **Low volume breakout**: CÃ³ thá»ƒ false breakout

---

## ğŸ¯ Chiáº¿n lÆ°á»£c giao dá»‹ch

### 1. Trend Following Strategy

#### ğŸ“ˆ Moving Average Crossover
```python
# TÃ­n hiá»‡u mua: MA ngáº¯n cáº¯t lÃªn MA dÃ i
if MA_short > MA_long and previous_MA_short <= previous_MA_long:
    signal = "BUY"

# TÃ­n hiá»‡u bÃ¡n: MA ngáº¯n cáº¯t xuá»‘ng MA dÃ i  
if MA_short < MA_long and previous_MA_short >= previous_MA_long:
    signal = "SELL"
```

#### ğŸ“Š MACD Strategy
```python
# Mua khi MACD cáº¯t lÃªn Signal trong vÃ¹ng Ã¢m
if MACD > Signal and previous_MACD <= previous_Signal and MACD < 0:
    signal = "BUY"

# BÃ¡n khi MACD cáº¯t xuá»‘ng Signal trong vÃ¹ng dÆ°Æ¡ng
if MACD < Signal and previous_MACD >= previous_Signal and MACD > 0:
    signal = "SELL"
```

### 2. Mean Reversion Strategy

#### ğŸ“Š RSI Strategy
```python
# Mua khi RSI < 30 (oversold)
if RSI < 30:
    signal = "BUY"

# BÃ¡n khi RSI > 70 (overbought)  
if RSI > 70:
    signal = "SELL"
```

#### ğŸ“ˆ Bollinger Bands Strategy
```python
# Mua khi giÃ¡ cháº¡m Lower Band
if Close <= Lower_Band:
    signal = "BUY"

# BÃ¡n khi giÃ¡ cháº¡m Upper Band
if Close >= Upper_Band:
    signal = "SELL"
```

### 3. Breakout Strategy

#### ğŸš€ Support/Resistance Breakout
```python
# Mua khi vÆ°á»£t resistance vá»›i volume cao
if Close > Resistance and Volume > Average_Volume * 1.5:
    signal = "BUY"

# BÃ¡n khi vá»¡ support vá»›i volume cao
if Close < Support and Volume > Average_Volume * 1.5:
    signal = "SELL"
```

### 4. Multiple Timeframe Analysis

#### ğŸ“Š Top-down Approach
1. **Weekly**: XÃ¡c Ä‘á»‹nh xu hÆ°á»›ng chÃ­nh
2. **Daily**: TÃ¬m entry point
3. **4H/1H**: Fine-tune timing

---

## âš ï¸ Quáº£n lÃ½ rá»§i ro

### 1. Position Sizing

#### ğŸ“Š Fixed Percentage Risk
```python
# Rá»§i ro 2% tÃ i khoáº£n má»—i lá»‡nh
account_balance = 100000000  # 100M VND
risk_percentage = 0.02
risk_amount = account_balance * risk_percentage

entry_price = 50000
stop_loss = 45000
risk_per_share = entry_price - stop_loss

position_size = risk_amount / risk_per_share
```

#### ğŸ“ˆ Kelly Criterion
```python
# f = (bp - q) / b
# f = fraction cá»§a capital Ä‘á»ƒ Ä‘áº·t cÆ°á»£c
# b = odds nháº­n Ä‘Æ°á»£c (reward/risk ratio)
# p = xÃ¡c suáº¥t tháº¯ng
# q = xÃ¡c suáº¥t thua (1-p)

win_rate = 0.6  # 60%
avg_win = 10000
avg_loss = 5000
reward_risk_ratio = avg_win / avg_loss

kelly_percentage = (win_rate * reward_risk_ratio - (1 - win_rate)) / reward_risk_ratio
```

### 2. Stop Loss Strategies

#### ğŸ“‰ Fixed Percentage Stop
```python
entry_price = 50000
stop_loss_percentage = 0.05  # 5%
stop_loss = entry_price * (1 - stop_loss_percentage)
```

#### ğŸ“Š ATR-based Stop
```python
# ATR = Average True Range
entry_price = 50000
atr_14 = 2000  # ATR 14 days
atr_multiplier = 2
stop_loss = entry_price - (atr_14 * atr_multiplier)
```

#### ğŸ“ˆ Technical Stop
- DÆ°á»›i support gáº§n nháº¥t
- DÆ°á»›i moving average
- DÆ°á»›i previous swing low

### 3. Take Profit Strategies

#### ğŸ¯ Risk-Reward Ratio
```python
entry_price = 50000
stop_loss = 45000
risk = entry_price - stop_loss

# Risk-Reward 1:2
reward = risk * 2
take_profit = entry_price + reward
```

#### ğŸ“Š Multiple Targets
```python
# Chia lÃ£i thÃ nh nhiá»u má»¥c tiÃªu
entry_price = 50000
target_1 = 55000  # Chá»‘t 1/3 position
target_2 = 60000  # Chá»‘t 1/3 position  
target_3 = 65000  # Chá»‘t 1/3 position
```

---

## ğŸ§  TÃ¢m lÃ½ thá»‹ trÆ°á»ng

### 1. Chu ká»³ cáº£m xÃºc

```
    Euphoria ğŸ‰
        |
    Excitement ğŸ˜Š
        |
    Optimism ğŸ˜Œ â† Thrill
        |           |
    Hope ğŸ¤ â† Anxiety ğŸ˜°
        |           |
    Relief ğŸ˜®â€ğŸ’¨ â† Denial ğŸ™„
        |           |
Depression ğŸ˜¢ â†’ Fear ğŸ˜¨
        |           |
    Panic ğŸ˜± â† Desperation ğŸ˜«
        |
   Capitulation ğŸ˜µ
        |
    Despondency ğŸ˜
```

### 2. Psychological Levels

#### ğŸ”¢ Round Numbers
- 50,000, 100,000, 150,000...
- TÃ¢m lÃ½ con ngÆ°á»i thÃ­ch sá»‘ trÃ²n
- ThÆ°á»ng lÃ  support/resistance máº¡nh

#### ğŸ“Š Previous Highs/Lows
- All-time high
- 52-week high/low
- Psychological anchoring

### 3. Market Sentiment Indicators

#### ğŸ“ˆ VIX (Fear & Greed Index)
- VIX cao: Fear, cÃ³ thá»ƒ Ä‘áº£o chiá»u tÄƒng
- VIX tháº¥p: Greed, cÃ³ thá»ƒ Ä‘áº£o chiá»u giáº£m

#### ğŸ“Š Put/Call Ratio
- Ratio cao: Bearish sentiment
- Ratio tháº¥p: Bullish sentiment

---

## ğŸ’» Thá»±c hÃ nh vá»›i vnstock

### 1. Setup Environment

```python
import vnstock as stock
import pandas as pd
import numpy as np
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import warnings
warnings.filterwarnings('ignore')
```

### 2. Láº¥y dá»¯ liá»‡u

```python
# Láº¥y dá»¯ liá»‡u lá»‹ch sá»­
def get_stock_data(symbol, start_date, end_date):
    """
    Láº¥y dá»¯ liá»‡u giÃ¡ cá»• phiáº¿u
    """
    try:
        quote = stock.Quote(symbol=symbol, source='VCI')
        df = quote.history(start=start_date, end=end_date)
        
        if df is not None and not df.empty:
            df.columns = ['time', 'open', 'high', 'low', 'close', 'volume']
            df['time'] = pd.to_datetime(df['time'])
            df = df.sort_values('time').reset_index(drop=True)
            return df
        else:
            return None
    except Exception as e:
        print(f"Lá»—i khi láº¥y dá»¯ liá»‡u: {e}")
        return None

# Sá»­ dá»¥ng
df = get_stock_data('VCB', '2024-01-01', '2024-12-31')
```

### 3. TÃ­nh toÃ¡n chá»‰ bÃ¡o ká»¹ thuáº­t

```python
def calculate_sma(data, window):
    """Simple Moving Average"""
    return data.rolling(window=window).mean()

def calculate_ema(data, window):
    """Exponential Moving Average"""
    return data.ewm(span=window).mean()

def calculate_rsi(data, window=14):
    """Relative Strength Index"""
    delta = data.diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=window).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=window).mean()
    rs = gain / loss
    rsi = 100 - (100 / (1 + rs))
    return rsi

def calculate_macd(data, fast=12, slow=26, signal=9):
    """MACD"""
    ema_fast = calculate_ema(data, fast)
    ema_slow = calculate_ema(data, slow)
    macd_line = ema_fast - ema_slow
    signal_line = calculate_ema(macd_line, signal)
    histogram = macd_line - signal_line
    return macd_line, signal_line, histogram

def calculate_bollinger_bands(data, window=20, num_std=2):
    """Bollinger Bands"""
    sma = calculate_sma(data, window)
    std = data.rolling(window=window).std()
    upper_band = sma + (std * num_std)
    lower_band = sma - (std * num_std)
    return upper_band, sma, lower_band

# Ãp dá»¥ng vÃ o dá»¯ liá»‡u
df['sma_20'] = calculate_sma(df['close'], 20)
df['ema_12'] = calculate_ema(df['close'], 12)
df['rsi'] = calculate_rsi(df['close'])
df['macd'], df['signal'], df['histogram'] = calculate_macd(df['close'])
df['bb_upper'], df['bb_middle'], df['bb_lower'] = calculate_bollinger_bands(df['close'])
```

### 4. XÃ¡c Ä‘á»‹nh Support & Resistance

```python
def find_support_resistance(df, window=20):
    """
    TÃ¬m support vÃ  resistance
    """
    # TÃ¬m local highs vÃ  lows
    df['local_max'] = df['high'].rolling(window=window, center=True).max() == df['high']
    df['local_min'] = df['low'].rolling(window=window, center=True).min() == df['low']
    
    # Láº¥y resistance levels
    resistance_levels = df[df['local_max']]['high'].tolist()
    
    # Láº¥y support levels  
    support_levels = df[df['local_min']]['low'].tolist()
    
    return support_levels, resistance_levels

support_levels, resistance_levels = find_support_resistance(df)
```

### 5. TÃ­n hiá»‡u giao dá»‹ch

```python
def generate_signals(df):
    """
    Táº¡o tÃ­n hiá»‡u mua/bÃ¡n
    """
    signals = pd.DataFrame(index=df.index)
    signals['price'] = df['close']
    signals['signal'] = 0
    
    # Strategy 1: MA Crossover
    df['sma_50'] = calculate_sma(df['close'], 50)
    df['sma_200'] = calculate_sma(df['close'], 200)
    
    # Golden Cross (50 SMA cáº¯t lÃªn 200 SMA)
    golden_cross = (df['sma_50'] > df['sma_200']) & (df['sma_50'].shift(1) <= df['sma_200'].shift(1))
    
    # Death Cross (50 SMA cáº¯t xuá»‘ng 200 SMA)
    death_cross = (df['sma_50'] < df['sma_200']) & (df['sma_50'].shift(1) >= df['sma_200'].shift(1))
    
    signals.loc[golden_cross, 'signal'] = 1  # Mua
    signals.loc[death_cross, 'signal'] = -1  # BÃ¡n
    
    # Strategy 2: RSI Oversold/Overbought
    rsi_oversold = df['rsi'] < 30
    rsi_overbought = df['rsi'] > 70
    
    signals.loc[rsi_oversold, 'signal'] = 1  # Mua
    signals.loc[rsi_overbought, 'signal'] = -1  # BÃ¡n
    
    return signals

signals = generate_signals(df)
```

### 6. Backtest Strategy

```python
def backtest_strategy(df, signals, initial_capital=100000000):
    """
    Backtest chiáº¿n lÆ°á»£c
    """
    portfolio = pd.DataFrame(index=signals.index)
    portfolio['price'] = signals['price']
    portfolio['signal'] = signals['signal']
    
    # TÃ­nh position
    portfolio['position'] = portfolio['signal'].replace(to_replace=0, method='ffill')
    portfolio['position'] = portfolio['position'].fillna(0)
    
    # TÃ­nh return
    portfolio['market_return'] = portfolio['price'].pct_change()
    portfolio['strategy_return'] = portfolio['market_return'] * portfolio['position'].shift(1)
    
    # TÃ­nh cumulative return
    portfolio['cumulative_market'] = (1 + portfolio['market_return']).cumprod()
    portfolio['cumulative_strategy'] = (1 + portfolio['strategy_return']).cumprod()
    
    # TÃ­nh performance metrics
    total_return = portfolio['cumulative_strategy'].iloc[-1] - 1
    annual_return = (portfolio['cumulative_strategy'].iloc[-1] ** (252/len(portfolio))) - 1
    volatility = portfolio['strategy_return'].std() * np.sqrt(252)
    sharpe_ratio = annual_return / volatility if volatility != 0 else 0
    
    max_drawdown = (portfolio['cumulative_strategy'] / portfolio['cumulative_strategy'].cummax() - 1).min()
    
    return {
        'total_return': total_return,
        'annual_return': annual_return,
        'volatility': volatility,
        'sharpe_ratio': sharpe_ratio,
        'max_drawdown': max_drawdown,
        'portfolio': portfolio
    }

# Cháº¡y backtest
results = backtest_strategy(df, signals)
print(f"Total Return: {results['total_return']:.2%}")
print(f"Annual Return: {results['annual_return']:.2%}")
print(f"Volatility: {results['volatility']:.2%}")
print(f"Sharpe Ratio: {results['sharpe_ratio']:.2f}")
print(f"Max Drawdown: {results['max_drawdown']:.2%}")
```

### 7. Visualization

```python
def plot_technical_analysis(df, signals=None):
    """
    Váº½ biá»ƒu Ä‘á»“ phÃ¢n tÃ­ch ká»¹ thuáº­t
    """
    fig = make_subplots(
        rows=4, cols=1,
        shared_xaxes=True,
        vertical_spacing=0.02,
        subplot_titles=('Price & Indicators', 'Volume', 'RSI', 'MACD'),
        row_heights=[0.5, 0.15, 0.15, 0.2]
    )
    
    # Candlestick chart
    fig.add_trace(
        go.Candlestick(
            x=df['time'],
            open=df['open'],
            high=df['high'],
            low=df['low'],
            close=df['close'],
            name='Price'
        ),
        row=1, col=1
    )
    
    # Moving Averages
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['sma_20'], name='SMA 20', line=dict(color='blue')),
        row=1, col=1
    )
    
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['ema_12'], name='EMA 12', line=dict(color='orange')),
        row=1, col=1
    )
    
    # Bollinger Bands
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['bb_upper'], name='BB Upper', line=dict(color='gray', dash='dash')),
        row=1, col=1
    )
    
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['bb_lower'], name='BB Lower', line=dict(color='gray', dash='dash'), fill='tonexty'),
        row=1, col=1
    )
    
    # Volume
    fig.add_trace(
        go.Bar(x=df['time'], y=df['volume'], name='Volume', marker_color='lightblue'),
        row=2, col=1
    )
    
    # RSI
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['rsi'], name='RSI', line=dict(color='purple')),
        row=3, col=1
    )
    
    # RSI levels
    fig.add_hline(y=70, line_dash="dash", line_color="red", row=3, col=1)
    fig.add_hline(y=30, line_dash="dash", line_color="green", row=3, col=1)
    
    # MACD
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['macd'], name='MACD', line=dict(color='blue')),
        row=4, col=1
    )
    
    fig.add_trace(
        go.Scatter(x=df['time'], y=df['signal'], name='Signal', line=dict(color='red')),
        row=4, col=1
    )
    
    fig.add_trace(
        go.Bar(x=df['time'], y=df['histogram'], name='Histogram', marker_color='green'),
        row=4, col=1
    )
    
    # ThÃªm buy/sell signals náº¿u cÃ³
    if signals is not None:
        buy_signals = signals[signals['signal'] == 1]
        sell_signals = signals[signals['signal'] == -1]
        
        fig.add_trace(
            go.Scatter(
                x=buy_signals.index,
                y=buy_signals['price'],
                mode='markers',
                marker=dict(symbol='triangle-up', size=10, color='green'),
                name='Buy Signal'
            ),
            row=1, col=1
        )
        
        fig.add_trace(
            go.Scatter(
                x=sell_signals.index,
                y=sell_signals['price'],
                mode='markers',
                marker=dict(symbol='triangle-down', size=10, color='red'),
                name='Sell Signal'
            ),
            row=1, col=1
        )
    
    fig.update_layout(
        title='Technical Analysis Dashboard',
        xaxis_rangeslider_visible=False,
        height=800
    )
    
    return fig

# Váº½ biá»ƒu Ä‘á»“
fig = plot_technical_analysis(df, signals)
fig.show()
```

---

## ğŸ“š TÃ i liá»‡u tham kháº£o

### ğŸ“– SÃ¡ch kinh Ä‘iá»ƒn
1. **"Technical Analysis of the Financial Markets"** - John J. Murphy
2. **"Japanese Candlestick Charting Techniques"** - Steve Nison
3. **"Market Wizards"** - Jack Schwager
4. **"Trading for a Living"** - Alexander Elder
5. **"The New Trading for a Living"** - Alexander Elder

### ğŸŒ Website há»¯u Ã­ch
- **TradingView**: Ná»n táº£ng charting tá»‘t nháº¥t
- **StockCharts.com**: GiÃ¡o dá»¥c vÃ  tools
- **Investopedia**: Kiáº¿n thá»©c cÆ¡ báº£n
- **CafeF.vn**: Tin tá»©c thá»‹ trÆ°á»ng VN
- **VietstockFinance**: Dá»¯ liá»‡u cá»• phiáº¿u VN

### ğŸ“Š Tools phÃ¢n tÃ­ch
- **Python**: pandas, numpy, plotly, TA-Lib
- **R**: quantmod, TTR, PerformanceAnalytics
- **Excel**: CÃ³ thá»ƒ tÃ­nh toÃ¡n cÆ¡ báº£n
- **TradingView**: Professional charting
- **MetaTrader**: Forex vÃ  CFD

---

## âš ï¸ LÆ°u Ã½ quan trá»ng

### ğŸš¨ Rá»§i ro
- **KhÃ´ng cÃ³ chiáº¿n lÆ°á»£c nÃ o tháº¯ng 100%**
- **QuÃ¡ khá»© khÃ´ng Ä‘áº£m báº£o tÆ°Æ¡ng lai**
- **LuÃ´n cÃ³ plan quáº£n lÃ½ rá»§i ro**
- **Äá»«ng Ä‘áº§u tÆ° quÃ¡ kháº£ nÄƒng tÃ i chÃ­nh**

### ğŸ’¡ Lá»i khuyÃªn
- **Há»c táº­p liÃªn tá»¥c**: Thá»‹ trÆ°á»ng thay Ä‘á»•i khÃ´ng ngá»«ng
- **Thá»±c hÃ nh**: Paper trading trÆ°á»›c khi real money
- **KiÃªn nháº«n**: KhÃ´ng vá»™i vÃ ng, chá» cÆ¡ há»™i tá»‘t
- **Ká»· luáº­t**: TuÃ¢n thá»§ plan, khÃ´ng giao dá»‹ch cáº£m tÃ­nh
- **Diversification**: KhÃ´ng Ä‘áº·t táº¥t cáº£ trá»©ng vÃ o má»™t giá»

### ğŸ¯ Mindset
- **TÆ° duy xÃ¡c suáº¥t**: KhÃ´ng tuyá»‡t Ä‘á»‘i Ä‘Ãºng/sai
- **Quáº£n lÃ½ cáº£m xÃºc**: Fear & Greed lÃ  káº» thÃ¹ lá»›n nháº¥t
- **Há»c tá»« sai láº§m**: Má»—i loss lÃ  bÃ i há»c
- **Focus vÃ o process**: KhÃ´ng chá»‰ káº¿t quáº£

---

## ğŸš€ BÆ°á»›c tiáº¿p theo

1. **Äá»c vÃ  hiá»ƒu** toÃ n bá»™ tÃ i liá»‡u nÃ y
2. **Thá»±c hÃ nh** vá»›i dá»¯ liá»‡u lá»‹ch sá»­
3. **Paper trading** vá»›i chiáº¿n lÆ°á»£c Ä‘Ã£ há»c
4. **Backtest** vÃ  tá»‘i Æ°u hÃ³a
5. **Start small** vá»›i tiá»n tháº­t
6. **Theo dÃµi vÃ  Ä‘iá»u chá»‰nh** liÃªn tá»¥c

---

*"Thá»‹ trÆ°á»ng luÃ´n Ä‘Ãºng. Náº¿u báº¡n thua lá»—, Ä‘Ã³ lÃ  lá»—i cá»§a báº¡n, khÃ´ng pháº£i cá»§a thá»‹ trÆ°á»ng."* 

**ğŸ’ª ChÃºc báº¡n Ä‘áº§u tÆ° thÃ nh cÃ´ng! ğŸ“ˆ**
